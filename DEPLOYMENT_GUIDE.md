# äº’è”ç½‘éƒ¨ç½²æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æŒ‡å—å°†æ•™ä½ å¦‚ä½•å°†å­¦ç”Ÿè¯„è¯­ç”Ÿæˆå™¨éƒ¨ç½²åˆ°äº’è”ç½‘ä¸Šï¼Œè®©ä»»ä½•äººéƒ½å¯ä»¥é€šè¿‡ç½‘å€è®¿é—®ã€‚

---

## ğŸ¯ éƒ¨ç½²æ–¹æ¡ˆå¯¹æ¯”

| å¹³å° | éš¾åº¦ | è´¹ç”¨ | æ¨èåº¦ | è¯´æ˜ |
|------|------|------|--------|------|
| **Railway** | â­ | å…è´¹ | â­â­â­â­â­ | æœ€æ¨èï¼Œç®€å•å¿«é€Ÿ |
| **Render** | â­â­ | å…è´¹ | â­â­â­â­ | åŠŸèƒ½å¼ºå¤§ï¼Œç¨å¤æ‚ |
| **PythonAnywhere** | â­â­ | å…è´¹/ä»˜è´¹ | â­â­â­ | ä¸“ä¸º Python è®¾è®¡ |
| **Vercel** | â­â­â­ | å…è´¹ | â­â­ | é€‚åˆå‰ç«¯ï¼Œåç«¯éœ€æ”¹é€  |
| **é˜¿é‡Œäº‘/è…¾è®¯äº‘** | â­â­â­â­ | ä»˜è´¹ | â­â­â­ | éœ€è¦å¤‡æ¡ˆï¼Œé€‚åˆé•¿æœŸ |

**æ¨è**ï¼šåˆå­¦è€…ä½¿ç”¨ **Railway**ï¼Œç®€å•å¿«é€Ÿï¼Œ5åˆ†é’Ÿéƒ¨ç½²å®Œæˆã€‚

---

## ğŸš€ æ–¹æ¡ˆä¸€ï¼šRailway éƒ¨ç½²ï¼ˆæ¨èï¼‰

### ä¸ºä»€ä¹ˆé€‰æ‹© Railwayï¼Ÿ
- âœ… å®Œå…¨å…è´¹ï¼ˆæœ‰ä½¿ç”¨é™åˆ¶ï¼‰
- âœ… æ— éœ€ä¿¡ç”¨å¡
- âœ… æ”¯æŒ GitHub è‡ªåŠ¨éƒ¨ç½²
- âœ… è‡ªåŠ¨é…ç½® HTTPS
- âœ… 5åˆ†é’Ÿå®Œæˆéƒ¨ç½²

### æ­¥éª¤1ï¼šå‡†å¤‡å·¥ä½œ

#### 1.1 æ³¨å†Œ GitHub è´¦å·
1. è®¿é—®ï¼šhttps://github.com/
2. ç‚¹å‡» "Sign up" æ³¨å†Œ
3. éªŒè¯é‚®ç®±

#### 1.2 åˆ›å»º Git ä»“åº“

**æ–¹æ³•1ï¼šä½¿ç”¨ GitHub Desktopï¼ˆæ¨èå°ç™½ï¼‰**

1. ä¸‹è½½ GitHub Desktopï¼šhttps://desktop.github.com/
2. å®‰è£…å¹¶ç™»å½•
3. ç‚¹å‡» "File" â†’ "Add local repository"
4. é€‰æ‹©é¡¹ç›®ç›®å½•ï¼š`C:\Users\admin\Desktop\EduDemo`
5. ç‚¹å‡» "Publish repository"
6. å–æ¶ˆå‹¾é€‰ "Keep this code private"ï¼ˆæˆ–ä¿æŒç§æœ‰ï¼‰
7. ç‚¹å‡» "Publish repository"

**æ–¹æ³•2ï¼šä½¿ç”¨å‘½ä»¤è¡Œ**

```bash
cd C:\Users\admin\Desktop\EduDemo

# åˆå§‹åŒ– Git ä»“åº“
git init

# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# åˆ›å»ºç¬¬ä¸€æ¬¡æäº¤
git commit -m "Initial commit"

# åœ¨ GitHub ä¸Šåˆ›å»ºä»“åº“åï¼Œå…³è”è¿œç¨‹ä»“åº“
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/EduDemo.git

# æ¨é€åˆ° GitHub
git push -u origin main
```

**é‡è¦**ï¼šç¡®ä¿ `.gitignore` æ–‡ä»¶æ­£ç¡®é…ç½®ï¼Œä¸è¦ä¸Šä¼ æ•æ„Ÿä¿¡æ¯ï¼š
```
.env
*.db
__pycache__/
venv/
```

### æ­¥éª¤2ï¼šæ³¨å†Œ Railway

1. è®¿é—®ï¼šhttps://railway.app/
2. ç‚¹å‡» "Start a New Project"
3. ä½¿ç”¨ GitHub è´¦å·ç™»å½•
4. æˆæƒ Railway è®¿é—®ä½ çš„ GitHub

### æ­¥éª¤3ï¼šéƒ¨ç½²é¡¹ç›®

1. ç‚¹å‡» "New Project"
2. é€‰æ‹© "Deploy from GitHub repo"
3. é€‰æ‹©ä½ çš„ `EduDemo` ä»“åº“
4. Railway ä¼šè‡ªåŠ¨æ£€æµ‹åˆ° Python é¡¹ç›®

### æ­¥éª¤4ï¼šé…ç½®ç¯å¢ƒå˜é‡

1. åœ¨ Railway é¡¹ç›®é¡µé¢ï¼Œç‚¹å‡»ä½ çš„æœåŠ¡
2. ç‚¹å‡» "Variables" æ ‡ç­¾
3. æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```
DEEPSEEK_API_KEY=sk-ä½ çš„å¯†é’¥
ZHIPU_API_KEY=ä½ çš„å¯†é’¥
JWT_SECRET_KEY=éšæœºå­—ç¬¦ä¸²
DATABASE_PATH=database.db
FLASK_ENV=production
PORT=5000
```

### æ­¥éª¤5ï¼šé…ç½®éƒ¨ç½²æ–‡ä»¶

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä»¥ä¸‹æ–‡ä»¶ï¼š

#### `Procfile`ï¼ˆå‘Šè¯‰ Railway å¦‚ä½•å¯åŠ¨ï¼‰
```
web: cd backend && python app.py
```

#### `runtime.txt`ï¼ˆæŒ‡å®š Python ç‰ˆæœ¬ï¼‰
```
python-3.11.0
```

#### `requirements.txt`ï¼ˆç¡®ä¿åœ¨æ ¹ç›®å½•ä¹Ÿæœ‰ä¸€ä»½ï¼‰
```bash
# å¤åˆ¶ backend/requirements.txt åˆ°æ ¹ç›®å½•
copy backend\requirements.txt requirements.txt
```

### æ­¥éª¤6ï¼šä¿®æ”¹åç«¯ä»£ç 

ç¼–è¾‘ `backend/app.py`ï¼Œä¿®æ”¹æœ€åçš„å¯åŠ¨éƒ¨åˆ†ï¼š

```python
if __name__ == '__main__':
    # è·å–ç«¯å£å·ï¼ˆRailway ä¼šè‡ªåŠ¨è®¾ç½® PORT ç¯å¢ƒå˜é‡ï¼‰
    port = int(os.getenv('PORT', 5000))

    print("=" * 50)
    print("å­¦ç”Ÿè¯„è¯­ç”Ÿæˆå™¨ API æœåŠ¡å™¨")
    print("=" * 50)
    print(f"æœåŠ¡å™¨åœ°å€: http://0.0.0.0:{port}")
    print("=" * 50)

    # ç”Ÿäº§ç¯å¢ƒé…ç½®
    app.run(
        host='0.0.0.0',
        port=port,
        debug=False  # ç”Ÿäº§ç¯å¢ƒå…³é—­ debug
    )
```

### æ­¥éª¤7ï¼šæ¨é€æ›´æ–°

```bash
git add .
git commit -m "Add Railway deployment config"
git push
```

Railway ä¼šè‡ªåŠ¨æ£€æµ‹åˆ°æ›´æ–°å¹¶é‡æ–°éƒ¨ç½²ã€‚

### æ­¥éª¤8ï¼šè·å–è®¿é—®åœ°å€

1. åœ¨ Railway é¡¹ç›®é¡µé¢ï¼Œç‚¹å‡» "Settings"
2. æ‰¾åˆ° "Domains" éƒ¨åˆ†
3. ç‚¹å‡» "Generate Domain"
4. å¤åˆ¶ç”Ÿæˆçš„åŸŸåï¼Œä¾‹å¦‚ï¼š`your-app.railway.app`

### æ­¥éª¤9ï¼šé…ç½®å‰ç«¯

ç¼–è¾‘ `frontend/js/config.js`ï¼š

```javascript
// ä¿®æ”¹ä¸º Railway ç”Ÿæˆçš„åŸŸå
const API_BASE_URL = 'https://your-app.railway.app';
```

### æ­¥éª¤10ï¼šéƒ¨ç½²å‰ç«¯

**æ–¹æ³•1ï¼šä½¿ç”¨ Vercelï¼ˆæ¨èï¼‰**

1. è®¿é—®ï¼šhttps://vercel.com/
2. ä½¿ç”¨ GitHub ç™»å½•
3. ç‚¹å‡» "New Project"
4. é€‰æ‹©ä½ çš„ä»“åº“
5. é…ç½®ï¼š
   - Framework Preset: Other
   - Root Directory: `frontend`
6. ç‚¹å‡» "Deploy"

**æ–¹æ³•2ï¼šä½¿ç”¨ GitHub Pages**

1. åœ¨ GitHub ä»“åº“é¡µé¢ï¼Œç‚¹å‡» "Settings"
2. æ‰¾åˆ° "Pages" éƒ¨åˆ†
3. Source é€‰æ‹© "main" åˆ†æ”¯
4. Folder é€‰æ‹© `/frontend`
5. ç‚¹å‡» "Save"
6. ç­‰å¾…å‡ åˆ†é’Ÿï¼Œè®¿é—®ï¼š`https://ä½ çš„ç”¨æˆ·å.github.io/EduDemo/login.html`

---

## ğŸ”§ æ–¹æ¡ˆäºŒï¼šRender éƒ¨ç½²

### æ­¥éª¤1ï¼šæ³¨å†Œ Render

1. è®¿é—®ï¼šhttps://render.com/
2. ä½¿ç”¨ GitHub è´¦å·æ³¨å†Œ

### æ­¥éª¤2ï¼šåˆ›å»º Web Service

1. ç‚¹å‡» "New +" â†’ "Web Service"
2. è¿æ¥ä½ çš„ GitHub ä»“åº“
3. é…ç½®ï¼š
   - Name: `edudemo`
   - Environment: `Python 3`
   - Build Command: `cd backend && pip install -r requirements.txt`
   - Start Command: `cd backend && python app.py`

### æ­¥éª¤3ï¼šæ·»åŠ ç¯å¢ƒå˜é‡

åœ¨ "Environment" æ ‡ç­¾æ·»åŠ ï¼š
- `DEEPSEEK_API_KEY`
- `ZHIPU_API_KEY`
- `JWT_SECRET_KEY`
- `PORT=10000`

### æ­¥éª¤4ï¼šéƒ¨ç½²

ç‚¹å‡» "Create Web Service"ï¼Œç­‰å¾…éƒ¨ç½²å®Œæˆã€‚

---

## ğŸ æ–¹æ¡ˆä¸‰ï¼šPythonAnywhere éƒ¨ç½²

### æ­¥éª¤1ï¼šæ³¨å†Œè´¦å·

1. è®¿é—®ï¼šhttps://www.pythonanywhere.com/
2. æ³¨å†Œå…è´¹è´¦å·ï¼ˆBeginnerï¼‰

### æ­¥éª¤2ï¼šä¸Šä¼ ä»£ç 

1. åœ¨ Dashboard ç‚¹å‡» "Files"
2. ä¸Šä¼ é¡¹ç›®æ–‡ä»¶ï¼Œæˆ–ä½¿ç”¨ Git clone

### æ­¥éª¤3ï¼šåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

åœ¨ "Consoles" ä¸­æ‰“å¼€ Bashï¼š

```bash
mkvirtualenv --python=/usr/bin/python3.10 myenv
cd EduDemo/backend
pip install -r requirements.txt
```

### æ­¥éª¤4ï¼šé…ç½® Web App

1. ç‚¹å‡» "Web" æ ‡ç­¾
2. ç‚¹å‡» "Add a new web app"
3. é€‰æ‹© "Manual configuration"
4. é€‰æ‹© Python 3.10
5. é…ç½® WSGI æ–‡ä»¶ï¼ˆéœ€è¦ä¿®æ”¹ä¸º Flask åº”ç”¨ï¼‰

### æ­¥éª¤5ï¼šè®¾ç½®ç¯å¢ƒå˜é‡

åœ¨ Web æ ‡ç­¾çš„ "Environment variables" éƒ¨åˆ†æ·»åŠ é…ç½®ã€‚

---

## â˜ï¸ æ–¹æ¡ˆå››ï¼šé˜¿é‡Œäº‘/è…¾è®¯äº‘éƒ¨ç½²

### é€‚ç”¨åœºæ™¯
- éœ€è¦é•¿æœŸç¨³å®šè¿è¡Œ
- éœ€è¦è‡ªå®šä¹‰åŸŸå
- æœ‰ä¸€å®šé¢„ç®—ï¼ˆçº¦ Â¥100/å¹´ï¼‰

### æ­¥éª¤æ¦‚è¿°

1. **è´­ä¹°æœåŠ¡å™¨**
   - é˜¿é‡Œäº‘ï¼šhttps://www.aliyun.com/
   - è…¾è®¯äº‘ï¼šhttps://cloud.tencent.com/
   - é€‰æ‹©ï¼š1æ ¸2Gï¼ŒUbuntu 20.04

2. **è¿æ¥æœåŠ¡å™¨**
   ```bash
   ssh root@ä½ çš„æœåŠ¡å™¨IP
   ```

3. **å®‰è£…ç¯å¢ƒ**
   ```bash
   # æ›´æ–°ç³»ç»Ÿ
   apt update && apt upgrade -y

   # å®‰è£… Python
   apt install python3 python3-pip python3-venv -y

   # å®‰è£… Nginx
   apt install nginx -y
   ```

4. **ä¸Šä¼ ä»£ç **
   ```bash
   # ä½¿ç”¨ Git
   git clone https://github.com/ä½ çš„ç”¨æˆ·å/EduDemo.git
   cd EduDemo/backend

   # åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
   python3 -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt
   ```

5. **é…ç½® Nginx**
   ```nginx
   server {
       listen 80;
       server_name ä½ çš„åŸŸåæˆ–IP;

       location / {
           root /root/EduDemo/frontend;
           index login.html;
       }

       location /api {
           proxy_pass http://127.0.0.1:5000;
           proxy_set_header Host $host;
           proxy_set_header X-Real-IP $remote_addr;
       }
   }
   ```

6. **ä½¿ç”¨ Supervisor ç®¡ç†è¿›ç¨‹**
   ```bash
   apt install supervisor -y
   ```

   åˆ›å»ºé…ç½®æ–‡ä»¶ `/etc/supervisor/conf.d/edudemo.conf`ï¼š
   ```ini
   [program:edudemo]
   command=/root/EduDemo/backend/venv/bin/python app.py
   directory=/root/EduDemo/backend
   autostart=true
   autorestart=true
   stderr_logfile=/var/log/edudemo.err.log
   stdout_logfile=/var/log/edudemo.out.log
   ```

7. **å¯åŠ¨æœåŠ¡**
   ```bash
   supervisorctl reread
   supervisorctl update
   supervisorctl start edudemo
   ```

8. **é…ç½®åŸŸåï¼ˆå¯é€‰ï¼‰**
   - è´­ä¹°åŸŸå
   - æ·»åŠ  A è®°å½•æŒ‡å‘æœåŠ¡å™¨ IP
   - é…ç½® SSL è¯ä¹¦ï¼ˆLet's Encryptï¼‰

---

## ğŸ”’ å®‰å…¨é…ç½®

### 1. ä¿®æ”¹ CORS é…ç½®

ç¼–è¾‘ `backend/app.py`ï¼š

```python
# ç”Ÿäº§ç¯å¢ƒåªå…è®¸ç‰¹å®šåŸŸå
CORS(app, resources={
    r"/api/*": {
        "origins": ["https://your-frontend-domain.com"],  # æ”¹ä¸ºå®é™…åŸŸå
        "methods": ["GET", "POST", "PUT", "DELETE"],
        "allow_headers": ["Content-Type", "Authorization"]
    }
})
```

### 2. ä½¿ç”¨å¼ºå¯†é’¥

```python
# ç”Ÿæˆéšæœºå¯†é’¥
import secrets
print(secrets.token_hex(32))
```

### 3. å…³é—­ Debug æ¨¡å¼

```python
app.run(debug=False)  # ç”Ÿäº§ç¯å¢ƒå¿…é¡»å…³é—­
```

### 4. é…ç½® HTTPS

ä½¿ç”¨ Let's Encrypt å…è´¹ SSL è¯ä¹¦ï¼š

```bash
apt install certbot python3-certbot-nginx -y
certbot --nginx -d your-domain.com
```

---

## ğŸ“Š éƒ¨ç½²æ£€æŸ¥æ¸…å•

éƒ¨ç½²å‰è¯·ç¡®è®¤ï¼š

- [ ] `.env` æ–‡ä»¶ä¸åœ¨ Git ä»“åº“ä¸­
- [ ] æ‰€æœ‰ API Key å·²é…ç½®ä¸ºç¯å¢ƒå˜é‡
- [ ] JWT_SECRET_KEY ä½¿ç”¨éšæœºå­—ç¬¦ä¸²
- [ ] Debug æ¨¡å¼å·²å…³é—­
- [ ] CORS é…ç½®æ­£ç¡®
- [ ] å‰ç«¯ API åœ°å€å·²æ›´æ–°
- [ ] æ•°æ®åº“æ–‡ä»¶è·¯å¾„æ­£ç¡®
- [ ] æ‰€æœ‰ä¾èµ–éƒ½åœ¨ requirements.txt ä¸­

---

## ğŸ› å¸¸è§é—®é¢˜

### 1. éƒ¨ç½²åæ— æ³•è®¿é—®

**æ£€æŸ¥**ï¼š
- æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œ
- ç«¯å£æ˜¯å¦æ­£ç¡®
- é˜²ç«å¢™æ˜¯å¦å¼€æ”¾
- åŸŸåè§£ææ˜¯å¦æ­£ç¡®

### 2. AI API è°ƒç”¨å¤±è´¥

**æ£€æŸ¥**ï¼š
- ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®é…ç½®
- API Key æ˜¯å¦æœ‰æ•ˆ
- æœåŠ¡å™¨æ˜¯å¦èƒ½è®¿é—®å¤–ç½‘

### 3. æ•°æ®åº“é”™è¯¯

**æ£€æŸ¥**ï¼š
- æ•°æ®åº“æ–‡ä»¶æ˜¯å¦æœ‰å†™å…¥æƒé™
- è·¯å¾„æ˜¯å¦æ­£ç¡®
- æ˜¯å¦éœ€è¦åˆå§‹åŒ–æ•°æ®åº“

### 4. è·¨åŸŸé—®é¢˜

**è§£å†³**ï¼š
- æ£€æŸ¥ CORS é…ç½®
- ç¡®è®¤å‰ç«¯åŸŸååœ¨å…è®¸åˆ—è¡¨ä¸­

---

## ğŸ’¡ ä¼˜åŒ–å»ºè®®

### æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨ Gunicorn æ›¿ä»£ Flask å†…ç½®æœåŠ¡å™¨
- é…ç½® Redis ç¼“å­˜
- ä½¿ç”¨ CDN åŠ é€Ÿé™æ€èµ„æº

### ç›‘æ§å’Œæ—¥å¿—
- é…ç½®æ—¥å¿—æ”¶é›†
- è®¾ç½®é”™è¯¯å‘Šè­¦
- ç›‘æ§æœåŠ¡å™¨èµ„æºä½¿ç”¨

### å¤‡ä»½
- å®šæœŸå¤‡ä»½æ•°æ®åº“
- å¤‡ä»½é…ç½®æ–‡ä»¶
- ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶

---

## ğŸ‰ å®Œæˆï¼

ç°åœ¨ä½ çš„åº”ç”¨å·²ç»éƒ¨ç½²åˆ°äº’è”ç½‘ä¸Šäº†ï¼

**è®¿é—®åœ°å€**ï¼š
- åç«¯ APIï¼š`https://your-app.railway.app`
- å‰ç«¯é¡µé¢ï¼š`https://your-frontend.vercel.app`

**åˆ†äº«ç»™æœ‹å‹**ï¼š
- å‘é€å‰ç«¯åœ°å€ç»™å…¶ä»–äºº
- ä»–ä»¬å¯ä»¥æ³¨å†Œè´¦å·å¹¶ä½¿ç”¨

**ä¸‹ä¸€æ­¥**ï¼š
- ç›‘æ§åº”ç”¨è¿è¡ŒçŠ¶æ€
- æ”¶é›†ç”¨æˆ·åé¦ˆ
- æŒç»­ä¼˜åŒ–åŠŸèƒ½
