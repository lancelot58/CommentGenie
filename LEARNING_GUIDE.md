# å­¦ä¹ æŒ‡å— - ä»é›¶å¼€å§‹å¼€å‘å­¦ç”Ÿè¯„è¯­ç”Ÿæˆå™¨

## ğŸ“š ç¬¬ä¸€é˜¶æ®µï¼šç†è§£é¡¹ç›®ç»“æ„

### 1. ä»€ä¹ˆæ˜¯å‰åç«¯åˆ†ç¦»ï¼Ÿ

**å‰ç«¯ï¼ˆFrontendï¼‰**ï¼š
- ç”¨æˆ·çœ‹åˆ°çš„ç•Œé¢ï¼ˆç½‘é¡µï¼‰
- è´Ÿè´£å±•ç¤ºå†…å®¹å’Œç”¨æˆ·äº¤äº’
- ä½¿ç”¨ HTMLã€CSSã€JavaScript

**åç«¯ï¼ˆBackendï¼‰**ï¼š
- æœåŠ¡å™¨ç«¯ç¨‹åº
- è´Ÿè´£å¤„ç†ä¸šåŠ¡é€»è¾‘ã€æ•°æ®å­˜å‚¨
- ä½¿ç”¨ Python + Flask

**å®ƒä»¬å¦‚ä½•åä½œï¼Ÿ**
```
ç”¨æˆ· â†’ å‰ç«¯é¡µé¢ â†’ å‘é€è¯·æ±‚ â†’ åç«¯API â†’ å¤„ç†æ•°æ® â†’ è¿”å›ç»“æœ â†’ å‰ç«¯æ˜¾ç¤º
```

### 2. é¡¹ç›®æ–‡ä»¶è¯´æ˜

#### `requirements.txt`ï¼ˆPython ä¾èµ–åŒ…ï¼‰
è¿™ä¸ªæ–‡ä»¶åˆ—å‡ºäº†åç«¯éœ€è¦çš„æ‰€æœ‰ Python åº“ï¼š

- **Flask**: Web æ¡†æ¶ï¼Œç”¨äºåˆ›å»ºæœåŠ¡å™¨
- **Flask-CORS**: å…è®¸å‰ç«¯è·¨åŸŸè®¿é—®åç«¯
- **Flask-JWT-Extended**: ç”¨æˆ·ç™»å½•éªŒè¯ï¼ˆç”Ÿæˆå’ŒéªŒè¯ tokenï¼‰
- **python-dotenv**: è¯»å–ç¯å¢ƒå˜é‡ï¼ˆä¿æŠ¤æ•æ„Ÿä¿¡æ¯ï¼‰
- **requests**: è°ƒç”¨ AI API
- **bcrypt**: å¯†ç åŠ å¯†ï¼ˆä¿æŠ¤ç”¨æˆ·å¯†ç å®‰å…¨ï¼‰

#### `.env.example`ï¼ˆç¯å¢ƒå˜é‡æ¨¡æ¿ï¼‰
å­˜æ”¾æ•æ„Ÿä¿¡æ¯çš„é…ç½®æ–‡ä»¶ï¼š

- **API_KEY**: AI æœåŠ¡çš„å¯†é’¥ï¼ˆä¸èƒ½å…¬å¼€ï¼‰
- **JWT_SECRET_KEY**: ç”¨äºåŠ å¯†ç”¨æˆ·ç™»å½•ä¿¡æ¯
- **DATABASE_PATH**: æ•°æ®åº“æ–‡ä»¶ä½ç½®

âš ï¸ æ³¨æ„ï¼šå®é™…ä½¿ç”¨æ—¶è¦å¤åˆ¶ä¸º `.env` æ–‡ä»¶ï¼Œå¹¶å¡«å…¥çœŸå®çš„å¯†é’¥

#### `.gitignore`ï¼ˆGit å¿½ç•¥æ–‡ä»¶ï¼‰
å‘Šè¯‰ Git å“ªäº›æ–‡ä»¶ä¸è¦ä¸Šä¼ åˆ°ä»£ç ä»“åº“ï¼š

- `.env`: åŒ…å«å¯†é’¥ï¼Œä¸èƒ½å…¬å¼€
- `*.db`: æ•°æ®åº“æ–‡ä»¶ï¼Œä¸éœ€è¦ä¸Šä¼ 
- `__pycache__/`: Python ç¼“å­˜æ–‡ä»¶

---

## ğŸ”§ ç¬¬äºŒé˜¶æ®µï¼šå®‰è£…ä¾èµ–

### æ­¥éª¤1ï¼šåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

**ä»€ä¹ˆæ˜¯è™šæ‹Ÿç¯å¢ƒï¼Ÿ**
- ä¸ºé¡¹ç›®åˆ›å»ºç‹¬ç«‹çš„ Python ç¯å¢ƒ
- é¿å…ä¸åŒé¡¹ç›®çš„ä¾èµ–å†²çª
- ç±»ä¼¼äºç»™æ¯ä¸ªé¡¹ç›®ä¸€ä¸ªç‹¬ç«‹çš„"å·¥å…·ç®±"

**å‘½ä»¤**ï¼š
```bash
cd backend
python -m venv venv
```

### æ­¥éª¤2ï¼šæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ

**Windows**ï¼š
```bash
venv\Scripts\activate
```

**Mac/Linux**ï¼š
```bash
source venv/bin/activate
```

æ¿€æ´»åï¼Œå‘½ä»¤è¡Œå‰é¢ä¼šæ˜¾ç¤º `(venv)`

### æ­¥éª¤3ï¼šå®‰è£…ä¾èµ–åŒ…

```bash
pip install -r requirements.txt
```

è¿™ä¼šè‡ªåŠ¨å®‰è£… requirements.txt ä¸­åˆ—å‡ºçš„æ‰€æœ‰åº“ã€‚

---

## ğŸ’¡ æ ¸å¿ƒæ¦‚å¿µè§£é‡Š

### 1. APIï¼ˆåº”ç”¨ç¨‹åºæ¥å£ï¼‰

**ç®€å•ç†è§£**ï¼š
- API å°±åƒé¤å…çš„èœå•
- å‰ç«¯æ˜¯é¡¾å®¢ï¼Œåç«¯æ˜¯å¨æˆ¿
- é¡¾å®¢é€šè¿‡èœå•ï¼ˆAPIï¼‰ç‚¹èœï¼Œå¨æˆ¿åšå¥½åé€å‡ºæ¥

**ä¾‹å­**ï¼š
```
å‰ç«¯è¯·æ±‚ï¼šPOST /api/login ï¼ˆç”¨æˆ·ç™»å½•ï¼‰
åç«¯å“åº”ï¼š{ "token": "abc123", "username": "å¼ ä¸‰" }
```

### 2. JWT Tokenï¼ˆç”¨æˆ·èº«ä»½éªŒè¯ï¼‰

**ä¸ºä»€ä¹ˆéœ€è¦ï¼Ÿ**?
- HTTP æ˜¯æ— çŠ¶æ€çš„ï¼ŒæœåŠ¡å™¨ä¸è®°å¾—ä½ æ˜¯è°
- æ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦è¯æ˜èº«ä»½

**å·¥ä½œæµç¨‹**ï¼š
```
1. ç”¨æˆ·ç™»å½• â†’ åç«¯éªŒè¯å¯†ç 
2. éªŒè¯æˆåŠŸ â†’ ç”Ÿæˆ tokenï¼ˆåƒä¸€å¼ é—¨ç¥¨ï¼‰
3. å‰ç«¯ä¿å­˜ token
4. ä»¥åæ¯æ¬¡è¯·æ±‚éƒ½å¸¦ä¸Š token
5. åç«¯éªŒè¯ token â†’ ç¡®è®¤èº«ä»½
```

### 3. æ•°æ®åº“ï¼ˆSQLiteï¼‰

**ä¸ºä»€ä¹ˆç”¨ SQLiteï¼Ÿ**
- è½»é‡çº§ï¼Œä¸éœ€è¦å®‰è£…æ•°æ®åº“æœåŠ¡å™¨
- æ•°æ®å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œï¼ˆ.dbï¼‰
- é€‚åˆå°å‹é¡¹ç›®å’Œå­¦ä¹ 

**å­˜å‚¨ä»€ä¹ˆï¼Ÿ**
- ç”¨æˆ·ä¿¡æ¯ï¼ˆç”¨æˆ·åã€å¯†ç ï¼‰
- ç”Ÿæˆçš„è¯„è¯­å†å²

---

## ğŸ“Š ç¬¬ä¸‰é˜¶æ®µï¼šæ•°æ®åº“æ¨¡å‹ï¼ˆmodels.pyï¼‰

### æ•°æ®åº“ç»“æ„

#### 1. ç”¨æˆ·è¡¨ï¼ˆusersï¼‰

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| id | INTEGER | ç”¨æˆ·IDï¼ˆä¸»é”®ï¼Œè‡ªåŠ¨é€’å¢ï¼‰|
| username | TEXT | ç”¨æˆ·åï¼ˆå”¯ä¸€ï¼Œä¸èƒ½é‡å¤ï¼‰|
| password_hash | TEXT | åŠ å¯†åçš„å¯†ç ï¼ˆä¸å­˜å‚¨æ˜æ–‡ï¼‰|
| email | TEXT | é‚®ç®±ï¼ˆå¯é€‰ï¼‰|
| created_at | TIMESTAMP | æ³¨å†Œæ—¶é—´ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰|

#### 2. è¯„è¯­è¡¨ï¼ˆcommentsï¼‰

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| id | INTEGER | è¯„è¯­IDï¼ˆä¸»é”®ï¼Œè‡ªåŠ¨é€’å¢ï¼‰|
| user_id | INTEGER | ç”¨æˆ·IDï¼ˆå¤–é”®ï¼Œå…³è”usersè¡¨ï¼‰|
| student_name | TEXT | å­¦ç”Ÿå§“å |
| student_info | TEXT | å­¦ç”Ÿä¿¡æ¯ï¼ˆæ€§æ ¼ã€æˆç»©ç­‰ï¼‰|
| generated_comment | TEXT | ç”Ÿæˆçš„è¯„è¯­å†…å®¹ |
| ai_model | TEXT | ä½¿ç”¨çš„AIæ¨¡å‹åç§° |
| created_at | TIMESTAMP | ç”Ÿæˆæ—¶é—´ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰|

### å®‰å…¨ç‰¹æ€§

#### 1. å¯†ç åŠ å¯†ï¼ˆbcryptï¼‰

**ä¸ºä»€ä¹ˆä¸èƒ½å­˜å‚¨æ˜æ–‡å¯†ç ï¼Ÿ**
- å¦‚æœæ•°æ®åº“æ³„éœ²ï¼Œé»‘å®¢ä¼šç›´æ¥è·å–æ‰€æœ‰ç”¨æˆ·å¯†ç 
- ç”¨æˆ·å¯èƒ½åœ¨å¤šä¸ªç½‘ç«™ä½¿ç”¨ç›¸åŒå¯†ç 

**bcrypt å¦‚ä½•å·¥ä½œï¼Ÿ**
```python
# æ³¨å†Œæ—¶ï¼šåŠ å¯†å¯†ç 
password = "123456"
password_hash = bcrypt.hashpw(password.encode(), bcrypt.gensalt())
# ç»“æœï¼š$2b$12$xxxxxxxxxxxxxxxxxxxxxxxxxxxxxï¼ˆæ— æ³•åå‘è§£å¯†ï¼‰

# ç™»å½•æ—¶ï¼šéªŒè¯å¯†ç 
is_valid = bcrypt.checkpw(password.encode(), password_hash)
# è¿”å› True æˆ– False
```

**ç‰¹ç‚¹**ï¼š
- å•å‘åŠ å¯†ï¼Œæ— æ³•è§£å¯†
- æ¯æ¬¡åŠ å¯†ç»“æœéƒ½ä¸åŒï¼ˆåŠ ç›ï¼‰
- å³ä½¿ä¸¤ä¸ªç”¨æˆ·å¯†ç ç›¸åŒï¼Œå­˜å‚¨çš„å“ˆå¸Œå€¼ä¹Ÿä¸åŒ

#### 2. SQL æ³¨å…¥é˜²æŠ¤
```python
# âŒ é”™è¯¯ï¼ˆå®¹æ˜“è¢«æ³¨å…¥ï¼‰
cursor.execute(f"SELECT * FROM users WHERE username = '{username}'")

# âœ… æ­£ç¡®ï¼ˆä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ï¼‰
cursor.execute('SELECT * FROM users WHERE username = ?', (username,))
```

### æ ¸å¿ƒç±»å’Œæ–¹æ³•

#### Database ç±»
```python
db = Database()  # è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“å’Œè¡¨
conn = db.get_connection()  # è·å–è¿æ¥
```

#### User ç±»ï¼ˆç”¨æˆ·æ¨¡å‹ï¼‰
```python
# åˆ›å»ºç”¨æˆ·
user_id = User.create('zhangsan', 'password123', 'zhangsan@example.com')

# éªŒè¯å¯†ç 
user = User.verify_password('zhangsan', 'password123')

# è·å–ç”¨æˆ·ä¿¡æ¯
user = User.get_by_id(1)
```

#### Comment ç±»ï¼ˆè¯„è¯­æ¨¡å‹ï¼‰
```python
# ä¿å­˜è¯„è¯­
comment_id = Comment.create(
    user_id=1,
    student_name='æå››',
    student_info='æ€§æ ¼å¼€æœ—ï¼Œæˆç»©ä¼˜ç§€',
    generated_comment='è¯¥ç”Ÿåœ¨æœ¬å­¦æœŸè¡¨ç°ä¼˜å¼‚...',
    ai_model='DeepSeek'
)

# è·å–å†å²è®°å½•
comments = Comment.get_by_user(user_id=1, limit=20)

# åˆ é™¤è¯„è¯­
success = Comment.delete(comment_id=1, user_id=1)
```

### å…³é”®æ¦‚å¿µ

**ä¸»é”®ï¼ˆPRIMARY KEYï¼‰**ï¼š
- æ¯æ¡è®°å½•çš„å”¯ä¸€æ ‡è¯†
- è‡ªåŠ¨é€’å¢ï¼ˆAUTOINCREMENTï¼‰
- ç±»ä¼¼äºèº«ä»½è¯å·

**å¤–é”®ï¼ˆFOREIGN KEYï¼‰**ï¼š
- å»ºç«‹è¡¨ä¹‹é—´çš„å…³è”
- `comments.user_id` å…³è”åˆ° `users.id`
- ç¡®ä¿æ•°æ®ä¸€è‡´æ€§

**æ—¶é—´æˆ³ï¼ˆTIMESTAMPï¼‰**ï¼š
- è‡ªåŠ¨è®°å½•åˆ›å»ºæ—¶é—´
- `DEFAULT CURRENT_TIMESTAMP`

---

## ğŸš€ ç¬¬å››é˜¶æ®µï¼šFlask ä¸»ç¨‹åºï¼ˆapp.pyï¼‰

### Flask åº”ç”¨ç»“æ„

Flask æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ Web æ¡†æ¶ï¼Œç”¨äºåˆ›å»º API æœåŠ¡å™¨ã€‚

#### æ ¸å¿ƒç»„ä»¶

**1. Flask åº”ç”¨å®ä¾‹**
```python
app = Flask(__name__)
```
è¿™æ˜¯æ•´ä¸ªåº”ç”¨çš„æ ¸å¿ƒå¯¹è±¡ã€‚

**2. CORS é…ç½®**
```python
CORS(app, resources={r"/api/*": {"origins": "*"}})
```
- å…è®¸å‰ç«¯è·¨åŸŸè®¿é—®åç«¯
- å¼€å‘ç¯å¢ƒå…è®¸æ‰€æœ‰æ¥æºï¼ˆ`*`ï¼‰
- ç”Ÿäº§ç¯å¢ƒéœ€è¦æŒ‡å®šå…·ä½“åŸŸå

**3. JWT é…ç½®**
```python
app.config['JWT_SECRET_KEY'] = 'your-secret-key'
app.config['JWT_ACCESS_TOKEN_EXPIRES'] = timedelta(days=7)
```
- ç”¨äºç”Ÿæˆå’ŒéªŒè¯ç”¨æˆ·ç™»å½• token
- Token æœ‰æ•ˆæœŸè®¾ä¸º 7 å¤©

### API æ¥å£è¯´æ˜

#### 1. ç”¨æˆ·æ³¨å†Œï¼ˆ/api/registerï¼‰

**è¯·æ±‚æ–¹æ³•**: POST
**è¯·æ±‚ä½“**:
```json
{
  "username": "ç”¨æˆ·å",
  "password": "å¯†ç ",
  "email": "é‚®ç®±ï¼ˆå¯é€‰ï¼‰"
}
```

**è¿”å›**:
```json
{
  "success": true,
  "message": "æ³¨å†ŒæˆåŠŸ",
  "user_id": 1
}
```

**éªŒè¯è§„åˆ™**:
- ç”¨æˆ·åï¼š3-20 ä¸ªå­—ç¬¦
- å¯†ç ï¼šè‡³å°‘ 6 ä¸ªå­—ç¬¦
- ç”¨æˆ·åä¸èƒ½é‡å¤

#### 2. ç”¨æˆ·ç™»å½•ï¼ˆ/api/loginï¼‰

**è¯·æ±‚æ–¹æ³•**: POST
**è¯·æ±‚ä½“**:
```json
{
  "username": "ç”¨æˆ·å",
  "password": "å¯†ç "
}
```

**è¿”å›**:
```json
{
  "success": true,
  "message": "ç™»å½•æˆåŠŸ",
  "token": "eyJ0eXAiOiJKV1QiLCJhbGc...",
  "user": {
    "id": 1,
    "username": "zhangsan",
    "email": "zhangsan@example.com"
  }
}
```

**é‡è¦**: å‰ç«¯éœ€è¦ä¿å­˜ tokenï¼Œåç»­è¯·æ±‚éƒ½è¦å¸¦ä¸Šå®ƒã€‚

#### 3. è·å–ç”¨æˆ·ä¿¡æ¯ï¼ˆ/api/user/infoï¼‰

**è¯·æ±‚æ–¹æ³•**: GET
**è¯·æ±‚å¤´**: `Authorization: Bearer <token>`

**è¿”å›**:
```json
{
  "success": true,
  "user": {
    "id": 1,
    "username": "zhangsan",
    "email": "zhangsan@example.com"
  }
}
```

**æ³¨æ„**: è¿™ä¸ªæ¥å£éœ€è¦ç™»å½•ï¼ˆ`@jwt_required()`ï¼‰

#### 4. ç”Ÿæˆè¯„è¯­ï¼ˆ/api/comment/generateï¼‰

**è¯·æ±‚æ–¹æ³•**: POST
**è¯·æ±‚å¤´**: `Authorization: Bearer <token>`
**è¯·æ±‚ä½“**:
```json
{
  "student_name": "æå››",
  "student_info": "æ€§æ ¼å¼€æœ—ï¼Œæˆç»©ä¼˜ç§€ï¼Œç§¯æå‚åŠ æ´»åŠ¨",
  "ai_model": "deepseek"
}
```

**è¿”å›**:
```json
{
  "success": true,
  "comment": "è¯¥ç”Ÿåœ¨æœ¬å­¦æœŸè¡¨ç°ä¼˜å¼‚...",
  "comment_id": 1
}
```

#### 5. è·å–è¯„è¯­å†å²ï¼ˆ/api/comment/historyï¼‰

**è¯·æ±‚æ–¹æ³•**: GET
**è¯·æ±‚å¤´**: `Authorization: Bearer <token>`
**æŸ¥è¯¢å‚æ•°**: `?limit=20`

**è¿”å›**:
```json
{
  "success": true,
  "comments": [
    {
      "id": 1,
      "student_name": "æå››",
      "student_info": "æ€§æ ¼å¼€æœ—...",
      "generated_comment": "è¯¥ç”Ÿåœ¨æœ¬å­¦æœŸ...",
      "ai_model": "deepseek",
      "created_at": "2026-02-04 10:30:00"
    }
  ]
}
```

#### 6. åˆ é™¤è¯„è¯­ï¼ˆ/api/comment/<id>ï¼‰

**è¯·æ±‚æ–¹æ³•**: DELETE
**è¯·æ±‚å¤´**: `Authorization: Bearer <token>`

**è¿”å›**:
```json
{
  "success": true,
  "message": "åˆ é™¤æˆåŠŸ"
}
```

### è£…é¥°å™¨è¯´æ˜

**@app.route()**
- å®šä¹‰è·¯ç”±ï¼ˆURL è·¯å¾„ï¼‰
- æŒ‡å®šè¯·æ±‚æ–¹æ³•ï¼ˆGETã€POSTã€DELETE ç­‰ï¼‰

**@jwt_required()**
- è¦æ±‚ç”¨æˆ·å¿…é¡»ç™»å½•
- è‡ªåŠ¨éªŒè¯ token
- å¯ä»¥ç”¨ `get_jwt_identity()` è·å–ç”¨æˆ· ID

### é”™è¯¯å¤„ç†

```python
@app.errorhandler(404)
def not_found(error):
    return jsonify({'success': False, 'message': 'æ¥å£ä¸å­˜åœ¨'}), 404
```

ç»Ÿä¸€çš„é”™è¯¯å“åº”æ ¼å¼ï¼Œæ–¹ä¾¿å‰ç«¯å¤„ç†ã€‚

### å¯åŠ¨æœåŠ¡å™¨

```bash
cd backend
python app.py
```

æœåŠ¡å™¨ä¼šåœ¨ `http://localhost:5000` å¯åŠ¨ã€‚

**å¼€å‘æ¨¡å¼ç‰¹æ€§**:
- `debug=True`: ä»£ç ä¿®æ”¹åè‡ªåŠ¨é‡å¯
- `host='0.0.0.0'`: å…è®¸å¤–éƒ¨è®¿é—®
- è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯

---

## ğŸ§ª æµ‹è¯• API

### ä½¿ç”¨ curl æµ‹è¯•ï¼ˆå‘½ä»¤è¡Œï¼‰

**1. æµ‹è¯•æœåŠ¡å™¨**
```bash
curl http://localhost:5000/
```

**2. æ³¨å†Œç”¨æˆ·**
```bash
curl -X POST http://localhost:5000/api/register \
  -H "Content-Type: application/json" \
  -d '{"username":"test","password":"123456"}'
```

**3. ç™»å½•**
```bash
curl -X POST http://localhost:5000/api/login \
  -H "Content-Type: application/json" \
  -d '{"username":"test","password":"123456"}'
```

**4. ç”Ÿæˆè¯„è¯­ï¼ˆéœ€è¦ tokenï¼‰**
```bash
curl -X POST http://localhost:5000/api/comment/generate \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <ä½ çš„token>" \
  -d '{"student_name":"å¼ ä¸‰","student_info":"æˆç»©ä¼˜ç§€"}'
```

### ä½¿ç”¨ Postman æµ‹è¯•ï¼ˆæ¨èï¼‰

Postman æ˜¯ä¸€ä¸ªå›¾å½¢åŒ–çš„ API æµ‹è¯•å·¥å…·ï¼Œæ›´æ–¹ä¾¿ä½¿ç”¨ã€‚

1. ä¸‹è½½ Postman: https://www.postman.com/
2. åˆ›å»ºæ–°è¯·æ±‚
3. è®¾ç½®è¯·æ±‚æ–¹æ³•å’Œ URL
4. åœ¨ Body ä¸­é€‰æ‹© raw + JSON
5. è¾“å…¥è¯·æ±‚æ•°æ®
6. ç‚¹å‡» Send

---

## ğŸ¤– ç¬¬äº”é˜¶æ®µï¼šé›†æˆ AI API

### AI å®¢æˆ·ç«¯æ¶æ„

æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç»Ÿä¸€çš„ AI å®¢æˆ·ç«¯æ¥å£ï¼Œæ”¯æŒå¤šä¸ª AI æ¨¡å‹ï¼š

```
utils/
â”œâ”€â”€ __init__.py
â””â”€â”€ ai_client.py    # AI å®¢æˆ·ç«¯
```

### æ”¯æŒçš„ AI æ¨¡å‹

1. **DeepSeek**ï¼ˆæ¨èï¼‰- æ€§ä»·æ¯”æœ€é«˜
2. **æ™ºè°± AIï¼ˆGLM-4ï¼‰** - æ¸…åå‡ºå“ï¼Œä¸­æ–‡èƒ½åŠ›å¼º
3. **é€šä¹‰åƒé—®ï¼ˆQwenï¼‰** - é˜¿é‡Œäº‘ï¼Œç¨³å®šå¯é 
4. **Kimi** - é•¿æ–‡æœ¬å¤„ç†èƒ½åŠ›å¼º

### ä½¿ç”¨æ–¹æ³•

#### 1. ç”³è¯· API Key

è¯¦ç»†ç”³è¯·æ­¥éª¤è¯·æŸ¥çœ‹ï¼š`AI_API_GUIDE.md`

æ¨èå…ˆç”³è¯· **DeepSeek**ï¼Œå› ä¸ºï¼š
- å…è´¹é¢åº¦å¤š
- ä»·æ ¼ä¾¿å®œï¼ˆÂ¥1/ç™¾ä¸‡ tokensï¼‰
- API ç®€å•æ˜“ç”¨

#### 2. é…ç½® API Key

å¤åˆ¶ `.env.example` ä¸º `.env`ï¼š
```bash
cd backend
copy .env.example .env    # Windows
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥ API Keyï¼š
```env
DEEPSEEK_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxx
JWT_SECRET_KEY=your-random-secret-key-here
```

#### 3. ä½¿ç”¨ AI ç”Ÿæˆè¯„è¯­

åœ¨ä»£ç ä¸­è°ƒç”¨ï¼š
```python
from utils.ai_client import get_ai_client

# è·å– AI å®¢æˆ·ç«¯
client = get_ai_client('deepseek')  # æˆ– 'zhipu', 'qwen', 'kimi'

# ç”Ÿæˆè¯„è¯­
comment = client.generate_comment(
    student_name='å¼ ä¸‰',
    student_info='æ€§æ ¼å¼€æœ—ï¼Œæˆç»©ä¼˜ç§€'
)
```

### AI å®¢æˆ·ç«¯å·¥ä½œåŸç†

#### 1. ç»Ÿä¸€æ¥å£è®¾è®¡

æ‰€æœ‰ AI å®¢æˆ·ç«¯éƒ½ç»§æ‰¿è‡ª `AIClient` åŸºç±»ï¼š
```python
class AIClient:
    def generate_comment(self, student_name, student_info):
        raise NotImplementedError()
```

æ¯ä¸ªå…·ä½“çš„ AI å®¢æˆ·ç«¯å®ç°è¿™ä¸ªæ–¹æ³•ï¼š
- `DeepSeekClient`
- `ZhipuClient`
- `QwenClient`
- `KimiClient`

#### 2. æç¤ºè¯å·¥ç¨‹

æˆ‘ä»¬ä¸ºè¯„è¯­ç”Ÿæˆè®¾è®¡äº†ä¸“é—¨çš„æç¤ºè¯ï¼š
```python
prompt = f"""ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„ç­ä¸»ä»»è€å¸ˆï¼Œè¯·æ ¹æ®ä»¥ä¸‹å­¦ç”Ÿä¿¡æ¯ï¼Œ
ç”Ÿæˆä¸€æ®µçœŸè¯šã€å…·ä½“ã€æœ‰æ¸©åº¦çš„å­¦ç”Ÿè¯„è¯­ã€‚

å­¦ç”Ÿå§“åï¼š{student_name}
å­¦ç”Ÿæƒ…å†µï¼š{student_info}

è¦æ±‚ï¼š
1. è¯„è¯­è¦çœŸè¯šã€å…·ä½“ï¼Œé¿å…ç©ºæ´çš„å¥—è¯
2. çªå‡ºå­¦ç”Ÿçš„ä¼˜ç‚¹å’Œè¿›æ­¥
3. å¦‚æœæœ‰ä¸è¶³ï¼Œè¦å§”å©‰åœ°æå‡ºæ”¹è¿›å»ºè®®
4. è¯­æ°”è¦æ¸©æš–ã€é¼“åŠ±ï¼Œä½“ç°å¯¹å­¦ç”Ÿçš„å…³å¿ƒ
5. å­—æ•°æ§åˆ¶åœ¨150-200å­—å·¦å³
"""
```

**æç¤ºè¯çš„ä½œç”¨**ï¼š
- å®šä¹‰ AI çš„è§’è‰²ï¼ˆç­ä¸»ä»»è€å¸ˆï¼‰
- æ˜ç¡®è¾“å‡ºè¦æ±‚ï¼ˆçœŸè¯šã€å…·ä½“ã€æœ‰æ¸©åº¦ï¼‰
- æ§åˆ¶è¾“å‡ºé•¿åº¦ï¼ˆ150-200å­—ï¼‰

#### 3. API è°ƒç”¨æµç¨‹

```
ç”¨æˆ·è¯·æ±‚ â†’ Flask æ¥å£ â†’ get_ai_client() â†’ é€‰æ‹© AI æ¨¡å‹
                                              â†“
                                         æ„å»ºæç¤ºè¯
                                              â†“
                                         è°ƒç”¨ AI API
                                              â†“
                                         è§£æå“åº”
                                              â†“
                                         è¿”å›è¯„è¯­
```

### é”™è¯¯å¤„ç†

#### 1. API Key æœªé…ç½®
```python
try:
    client = get_ai_client('deepseek')
except ValueError as e:
    # è¿”å›é”™è¯¯ï¼šæœªé…ç½® deepseek çš„ API Key
```

#### 2. API è°ƒç”¨å¤±è´¥
```python
try:
    comment = client.generate_comment(name, info)
except Exception as e:
    # è¿”å›é”™è¯¯ï¼šDeepSeek API è°ƒç”¨å¤±è´¥
```

### æˆæœ¬æ§åˆ¶

#### ä»·æ ¼å¯¹æ¯”ï¼ˆæ¯ç™¾ä¸‡ tokensï¼‰

| AI æ¨¡å‹ | è¾“å…¥ä»·æ ¼ | è¾“å‡ºä»·æ ¼ | æ€»æˆæœ¬ä¼°ç®— |
|---------|----------|----------|------------|
| DeepSeek | Â¥1 | Â¥2 | æœ€ä¾¿å®œ |
| é€šä¹‰åƒé—® | Â¥2 | Â¥2 | ä¾¿å®œ |
| æ™ºè°± GLM-4 | Â¥100 | Â¥100 | è¾ƒè´µ |
| Kimi | Â¥12 | Â¥12 | ä¸­ç­‰ |

#### å®é™…ä½¿ç”¨æˆæœ¬

ç”Ÿæˆ 1000 æ¡è¯„è¯­ï¼ˆæ¯æ¡çº¦ 200 å­—ï¼‰ï¼š
- DeepSeekï¼šçº¦ Â¥0.05
- é€šä¹‰åƒé—®ï¼šçº¦ Â¥0.10
- Kimiï¼šçº¦ Â¥0.60
- æ™ºè°± GLM-4ï¼šçº¦ Â¥5.00

**å»ºè®®**ï¼šå­¦ä¹ é˜¶æ®µä½¿ç”¨ DeepSeekï¼Œæˆæœ¬å‡ ä¹å¯ä»¥å¿½ç•¥ã€‚

### æµ‹è¯• AI API

#### æ–¹æ³•1ï¼šç›´æ¥æµ‹è¯•å®¢æˆ·ç«¯
```bash
cd backend
python utils/ai_client.py
```

#### æ–¹æ³•2ï¼šé€šè¿‡ API æ¥å£æµ‹è¯•
```bash
# å…ˆç™»å½•è·å– token
curl -X POST http://localhost:5000/api/login \
  -H "Content-Type: application/json" \
  -d '{"username":"test","password":"123456"}'

# ä½¿ç”¨ token ç”Ÿæˆè¯„è¯­
curl -X POST http://localhost:5000/api/comment/generate \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <token>" \
  -d '{
    "student_name": "å¼ ä¸‰",
    "student_info": "æ€§æ ¼å¼€æœ—ï¼Œæˆç»©ä¼˜ç§€ï¼Œç§¯æå‚åŠ ç­çº§æ´»åŠ¨",
    "ai_model": "deepseek"
  }'
```

### åˆ‡æ¢ AI æ¨¡å‹

å‰ç«¯å¯ä»¥è®©ç”¨æˆ·é€‰æ‹©ä½¿ç”¨å“ªä¸ª AIï¼š
```javascript
// å‰ç«¯ä»£ç ç¤ºä¾‹
const aiModel = document.getElementById('ai-select').value;

fetch('/api/comment/generate', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${token}`
  },
  body: JSON.stringify({
    student_name: 'å¼ ä¸‰',
    student_info: 'æ€§æ ¼å¼€æœ—',
    ai_model: aiModel  // 'deepseek', 'zhipu', 'qwen', 'kimi'
  })
});
```

---

## ğŸ¯ å½“å‰è¿›åº¦

- âœ… é˜¶æ®µ1ï¼šç¯å¢ƒå‡†å¤‡
- âœ… é˜¶æ®µ2ï¼šå®‰è£…ä¾èµ–
- âœ… é˜¶æ®µ3ï¼šæ•°æ®åº“æ¨¡å‹
- âœ… é˜¶æ®µ4ï¼šFlask ä¸»ç¨‹åº
- âœ… é˜¶æ®µ5ï¼šé›†æˆ AI API
- âœ… é˜¶æ®µ6ï¼šåˆ›å»ºå‰ç«¯é¡µé¢
- âœ… é˜¶æ®µ7ï¼šéƒ¨ç½²ä¸Šçº¿

---

## ğŸš€ ç¬¬å…­é˜¶æ®µï¼šå‰ç«¯é¡µé¢å¼€å‘

### å‰ç«¯æŠ€æœ¯æ ˆ

- **HTML5**ï¼šé¡µé¢ç»“æ„
- **CSS3**ï¼šæ ·å¼å’ŒåŠ¨ç”»
- **JavaScriptï¼ˆåŸç”Ÿï¼‰**ï¼šäº¤äº’é€»è¾‘

### é¡µé¢ç»“æ„

#### 1. ç™»å½•é¡µé¢ï¼ˆlogin.htmlï¼‰
- ç”¨æˆ·åå’Œå¯†ç è¾“å…¥
- è¡¨å•éªŒè¯
- è‡ªåŠ¨è·³è½¬ï¼ˆå·²ç™»å½•ç”¨æˆ·ï¼‰
- é”™è¯¯æç¤º

#### 2. æ³¨å†Œé¡µé¢ï¼ˆregister.htmlï¼‰
- ç”¨æˆ·ä¿¡æ¯è¾“å…¥
- å¯†ç ç¡®è®¤
- é•¿åº¦éªŒè¯
- æ³¨å†ŒæˆåŠŸè·³è½¬

#### 3. ä¸»é¡µé¢ï¼ˆindex.htmlï¼‰
- è¯„è¯­ç”Ÿæˆè¡¨å•
- AI æ¨¡å‹é€‰æ‹©
- ç”Ÿæˆç»“æœæ˜¾ç¤º
- å†å²è®°å½•æŸ¥çœ‹
- è¯„è¯­å¤åˆ¶å’Œåˆ é™¤

### æ ¸å¿ƒåŠŸèƒ½å®ç°

#### ç”¨æˆ·è®¤è¯ï¼ˆauth.jsï¼‰
```javascript
// ç™»å½•
const result = await login(username, password);

// æ£€æŸ¥ç™»å½•çŠ¶æ€
if (isLoggedIn()) {
    // å·²ç™»å½•
}

// ç™»å‡º
logout();
```

#### API è°ƒç”¨
```javascript
// ç”Ÿæˆè¯„è¯­
const response = await fetch(API_ENDPOINTS.generateComment, {
    method: 'POST',
    headers: getAuthHeaders(),
    body: JSON.stringify({
        student_name: 'å¼ ä¸‰',
        student_info: 'æ€§æ ¼å¼€æœ—...',
        ai_model: 'deepseek'
    })
});
```

#### æœ¬åœ°å­˜å‚¨
```javascript
// ä¿å­˜ token
localStorage.setItem('auth_token', token);

// è¯»å– token
const token = localStorage.getItem('auth_token');
```

### UI è®¾è®¡ç‰¹ç‚¹

- **ç°ä»£ç®€æ´**ï¼šæ¸å˜è‰²èƒŒæ™¯ + åœ†è§’å¡ç‰‡
- **å“åº”å¼**ï¼šè‡ªé€‚åº”ä¸åŒå±å¹•å°ºå¯¸
- **åŠ¨ç”»æ•ˆæœ**ï¼šå¹³æ»‘è¿‡æ¸¡å’ŒåŠ è½½åŠ¨ç”»
- **ç”¨æˆ·å‹å¥½**ï¼šæ¸…æ™°çš„æç¤ºå’Œé”™è¯¯å¤„ç†

---

## ğŸ“¦ ç¬¬ä¸ƒé˜¶æ®µï¼šéƒ¨ç½²ä¸Šçº¿

### æœ¬åœ°éƒ¨ç½²

#### å¿«é€Ÿå¯åŠ¨æ­¥éª¤

#### å¿«é€Ÿå¯åŠ¨æ­¥éª¤

**1. å¯åŠ¨åç«¯æœåŠ¡å™¨**

ä½¿ç”¨å‘½ä»¤æç¤ºç¬¦ï¼ˆCMDï¼‰ï¼š

```bash
# æ­¥éª¤1ï¼šæ‰“å¼€å‘½ä»¤æç¤ºç¬¦
# æŒ‰ Win + Rï¼Œè¾“å…¥ cmdï¼ŒæŒ‰å›è½¦

# æ­¥éª¤2ï¼šè¿›å…¥åç«¯ç›®å½•
cd C:\Users\admin\Desktop\EduDemo\backend

# æ­¥éª¤3ï¼šæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
venv\Scripts\activate
# æˆåŠŸåä¼šæ˜¾ç¤º (venv)

# æ­¥éª¤4ï¼šå¯åŠ¨æœåŠ¡å™¨
python app.py
```

**æˆåŠŸæ ‡å¿—**ï¼š
```
==================================================
å­¦ç”Ÿè¯„è¯­ç”Ÿæˆå™¨ API æœåŠ¡å™¨
==================================================
æœåŠ¡å™¨åœ°å€: http://localhost:5000
==================================================
 * Running on http://127.0.0.1:5000
```

**é‡è¦æç¤º**ï¼š
- ä¿æŒå‘½ä»¤è¡Œçª—å£æ‰“å¼€ï¼Œä¸è¦å…³é—­
- æŒ‰ `Ctrl + C` å¯ä»¥åœæ­¢æœåŠ¡å™¨

**2. æ‰“å¼€å‰ç«¯é¡µé¢**
   - åŒå‡» `frontend/login.html`
   - æˆ–è®¿é—®ï¼š`file:///C:/Users/admin/Desktop/EduDemo/frontend/login.html`

**3. æ³¨å†Œå’Œä½¿ç”¨**
   - æ³¨å†Œæ–°è´¦å·
   - ç™»å½•ç³»ç»Ÿ
   - ç”Ÿæˆè¯„è¯­

#### ç³»ç»Ÿæ¶æ„

```
æµè§ˆå™¨(å‰ç«¯) â†’ HTTP è¯·æ±‚ â†’ Flask æœåŠ¡å™¨(åç«¯)
                                    â†“
                              AI API (DeepSeekç­‰)
                                    â†“
                              SQLite æ•°æ®åº“
```

#### å¸¸è§é—®é¢˜

**æ— æ³•è¿æ¥æœåŠ¡å™¨**ï¼š
- ç¡®è®¤åç«¯æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ
- æ£€æŸ¥ API åœ°å€é…ç½®ï¼ˆ`js/config.js`ï¼‰

**AI ç”Ÿæˆå¤±è´¥**ï¼š
- æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„ API Key
- ç¡®è®¤ API Key æœ‰æ•ˆ
- é‡å¯åç«¯æœåŠ¡å™¨

**ç«¯å£è¢«å ç”¨**ï¼š
- ä¿®æ”¹ `.env` ä¸­çš„ `PORT` é…ç½®
- æˆ–å…³é—­å ç”¨ç«¯å£çš„ç¨‹åº

è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ï¼š`LOCAL_DEPLOYMENT.md`

---

### äº’è”ç½‘éƒ¨ç½²

#### æ¨èæ–¹æ¡ˆï¼šVercelï¼ˆå‰ç«¯ï¼‰+ Railwayï¼ˆåç«¯ï¼‰

**ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªç»„åˆï¼Ÿ**
- âœ… å®Œå…¨å…è´¹ï¼ˆæœ‰ä½¿ç”¨é™åˆ¶ï¼‰
- âœ… è‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¨é€åˆ° GitHub åè‡ªåŠ¨æ›´æ–°ï¼‰
- âœ… ç¯å¢ƒå˜é‡å®‰å…¨ç®¡ç†
- âœ… è‡ªåŠ¨ HTTPS
- âœ… é…ç½®ç®€å•

**éƒ¨ç½²æ¶æ„**ï¼š
```
GitHub ä»“åº“
    â†“ (æ¨é€ä»£ç )
    â”œâ”€â†’ Vercel (è‡ªåŠ¨éƒ¨ç½²å‰ç«¯)
    â””â”€â†’ Railway (è‡ªåŠ¨éƒ¨ç½²åç«¯)
```

---

#### ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ GitHub ä»“åº“

**1. ç¡®ä¿ .gitignore æ­£ç¡®é…ç½®**

```gitignore
# ç¯å¢ƒå˜é‡ï¼ˆæ•æ„Ÿä¿¡æ¯ï¼‰
.env
*.env
!.env.example

# æ•°æ®åº“
*.db
*.sqlite

# Python
__pycache__/
venv/
```

**2. åˆ›å»º GitHub ä»“åº“**

è®¿é—®ï¼šhttps://github.com/new

- **Repository name**: `CommentGenie`
- **Description**: `ğŸ§š è¯„è¯­ç²¾çµ - åŸºäº AI çš„å­¦ç”Ÿè¯„è¯­æ™ºèƒ½ç”Ÿæˆå·¥å…·`
- **å¯è§æ€§**: Publicï¼ˆå…¬å¼€ï¼‰
- **ä¸è¦**å‹¾é€‰ "Add a README file"
- ç‚¹å‡» "Create repository"

**3. æ¨é€ä»£ç åˆ° GitHub**

æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥é€‰æ‹©ï¼š

---

##### æ–¹æ³•1ï¼šä½¿ç”¨ GitHub Desktopï¼ˆæ¨èï¼Œç®€å•ï¼‰

**é€‚åˆ**ï¼š
- ç½‘ç»œè¿æ¥ä¸ç¨³å®š
- ä¸ç†Ÿæ‚‰å‘½ä»¤è¡Œ
- æƒ³è¦å›¾å½¢ç•Œé¢æ“ä½œ

**æ­¥éª¤**ï¼š

**â‘  ä¸‹è½½å¹¶å®‰è£…**
- è®¿é—®ï¼šhttps://desktop.github.com/
- ä¸‹è½½å¹¶å®‰è£… GitHub Desktop

**â‘¡ ç™»å½•è´¦å·**
- æ‰“å¼€ GitHub Desktop
- ç‚¹å‡» "Sign in to GitHub.com"
- åœ¨æµè§ˆå™¨ä¸­ç™»å½•ä½ çš„ GitHub è´¦å·
- æˆæƒåè‡ªåŠ¨è¿”å›

**â‘¢ æ·»åŠ æœ¬åœ°ä»“åº“**
- ç‚¹å‡» **File** â†’ **Add local repository...**
- æˆ–æŒ‰å¿«æ·é”® `Ctrl + O`
- ç‚¹å‡» "Choose..." æŒ‰é’®
- é€‰æ‹©é¡¹ç›®æ–‡ä»¶å¤¹ï¼š`C:\Users\admin\Desktop\EduDemo`
- ç‚¹å‡» "Add repository"

**â‘£ å‘å¸ƒåˆ° GitHub**
- ç‚¹å‡»å³ä¸Šè§’ **"Publish repository"** æŒ‰é’®
- ç¡®è®¤ä¿¡æ¯ï¼š
  - Name: `CommentGenie`
  - Description: `ğŸ§š è¯„è¯­ç²¾çµ - åŸºäº AI çš„å­¦ç”Ÿè¯„è¯­æ™ºèƒ½ç”Ÿæˆå·¥å…·`
  - Keep this code private: ä¸å‹¾é€‰ï¼ˆå…¬å¼€ï¼‰
- ç‚¹å‡» "Publish repository"
- ç­‰å¾…ä¸Šä¼ å®Œæˆï¼ˆå‡ ç§’åˆ°å‡ åˆ†é’Ÿï¼‰

**â‘¤ éªŒè¯æˆåŠŸ**
- GitHub Desktop æ˜¾ç¤º "Published to GitHub"
- è®¿é—®ä½ çš„ GitHub ä»“åº“é¡µé¢
- åˆ·æ–°é¡µé¢ï¼Œåº”è¯¥èƒ½çœ‹åˆ°æ‰€æœ‰ä»£ç 

**â‘¥ ä»¥åæ›´æ–°ä»£ç **
- ä¿®æ”¹ä»£ç åï¼Œæ‰“å¼€ GitHub Desktop
- å·¦ä¾§ä¼šæ˜¾ç¤ºæ›´æ”¹çš„æ–‡ä»¶
- å¡«å†™æäº¤ä¿¡æ¯ï¼ˆå·¦ä¸‹è§’ï¼‰
- ç‚¹å‡» "Commit to main"
- ç‚¹å‡» "Push origin" æ¨é€åˆ° GitHub

---

##### æ–¹æ³•2ï¼šä½¿ç”¨å‘½ä»¤è¡Œ

**é€‚åˆ**ï¼š
- ç†Ÿæ‚‰å‘½ä»¤è¡Œ
- ç½‘ç»œè¿æ¥ç¨³å®š
- éœ€è¦æ›´å¤šæ§åˆ¶

**æ­¥éª¤**ï¼š

**â‘  é…ç½® Git ç”¨æˆ·ä¿¡æ¯**ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰
```bash
git config --global user.name "ä½ çš„åå­—"
git config --global user.email "your-email@example.com"
```

**â‘¡ åˆå§‹åŒ–å¹¶æäº¤**
```bash
cd C:\Users\admin\Desktop\EduDemo
git init
git add .
git commit -m "Initial commit: CommentGenie"
```

**â‘¢ è¿æ¥è¿œç¨‹ä»“åº“**
```bash
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/CommentGenie.git
git branch -M main
```

**â‘£ æ¨é€åˆ° GitHub**
```bash
git push -u origin main
```

**â‘¤ è¾“å…¥è®¤è¯ä¿¡æ¯**
- Username: ä½ çš„ GitHub ç”¨æˆ·å
- Password: Personal Access Tokenï¼ˆä¸æ˜¯å¯†ç ï¼ï¼‰

**ç”Ÿæˆ Token**ï¼š
- è®¿é—®ï¼šhttps://github.com/settings/tokens
- ç‚¹å‡» "Generate new token (classic)"
- å‹¾é€‰ `repo` æƒé™
- ç”Ÿæˆå¹¶å¤åˆ¶ Token

**â‘¥ ä»¥åæ›´æ–°ä»£ç **
```bash
git add .
git commit -m "æè¿°ä½ çš„ä¿®æ”¹"
git push
```

---

##### å¸¸è§é—®é¢˜

**ç½‘ç»œè¿æ¥å¤±è´¥**ï¼š
```
fatal: unable to access 'https://github.com/...': Failed to connect
```

**è§£å†³æ–¹æ³•**ï¼š
1. ä½¿ç”¨ GitHub Desktopï¼ˆæ¨èï¼‰
2. é…ç½®ä»£ç†ï¼ˆå¦‚æœä½¿ç”¨ä»£ç†è½¯ä»¶ï¼‰
3. ä¿®æ”¹ hosts æ–‡ä»¶
4. ä½¿ç”¨ SSH ä»£æ›¿ HTTPS

è¯¦ç»†è§£å†³æ–¹æ¡ˆè¯·æŸ¥çœ‹ï¼š`GITHUB_SETUP_GUIDE.md`

---
# ç¯å¢ƒå˜é‡ï¼ˆæ•æ„Ÿä¿¡æ¯ï¼‰
.env
*.env
!.env.example

# æ•°æ®åº“
*.db
*.sqlite

# Python
__pycache__/
venv/
```

**2. åˆ›å»º GitHub ä»“åº“**
- è®¿é—®ï¼šhttps://github.com/new
- åˆ›å»ºä»“åº“ï¼ˆPublic æˆ– Privateï¼‰
- æ¨é€ä»£ç ï¼š
  ```bash
  git init
  git add .
  git commit -m "Initial commit"
  git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/EduDemo.git
  git push -u origin main
```

---

#### ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²å‰ç«¯åˆ° Vercel

**1. æ³¨å†Œå¹¶å¯¼å…¥é¡¹ç›®**
- è®¿é—®ï¼šhttps://vercel.com/
- ä½¿ç”¨ GitHub ç™»å½•
- ç‚¹å‡» "New Project"
- é€‰æ‹©ä½ çš„ä»“åº“

**2. é…ç½®é¡¹ç›®**
- Framework Preset: Other
- Root Directory: é€‰æ‹© `frontend`
- ç‚¹å‡» "Deploy"

**3. è·å–å‰ç«¯åœ°å€**
- éƒ¨ç½²å®Œæˆåå¾—åˆ°åœ°å€ï¼Œä¾‹å¦‚ï¼š`https://edu-demo.vercel.app`

---

#### ç¬¬ä¸‰æ­¥ï¼šéƒ¨ç½²åç«¯åˆ° Railway

**1. æ³¨å†Œå¹¶åˆ›å»ºé¡¹ç›®**
- è®¿é—®ï¼šhttps://railway.app/
- ä½¿ç”¨ GitHub ç™»å½•
- ç‚¹å‡» "New Project" â†’ "Deploy from GitHub repo"
- é€‰æ‹©ä½ çš„ä»“åº“

**2. é…ç½®ç¯å¢ƒå˜é‡**

åœ¨ Railway Variables ä¸­æ·»åŠ ï¼š
```
DEEPSEEK_API_KEY=sk-ä½ çš„å¯†é’¥
ZHIPU_API_KEY=ä½ çš„å¯†é’¥
JWT_SECRET_KEY=éšæœºå­—ç¬¦ä¸²ï¼ˆè‡³å°‘32ä½ï¼‰
DATABASE_PATH=database.db
FLASK_ENV=production
PORT=5000
FRONTEND_URL=https://ä½ çš„vercelåœ°å€.vercel.app
```

**ç”Ÿæˆéšæœºå¯†é’¥**ï¼š
```python
import secrets
print(secrets.token_hex(32))
```

**3. åˆ›å»ºéƒ¨ç½²æ–‡ä»¶**

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `Procfile`ï¼š
```
web: cd backend && python app.py
```

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `runtime.txt`ï¼š
```
python-3.11.0
```

**4. ä¿®æ”¹åç«¯ä»£ç **

ç¼–è¾‘ `backend/app.py`ï¼Œä¿®æ”¹ CORS é…ç½®ï¼š
```python
# è·å–å…è®¸çš„å‰ç«¯åŸŸå
FRONTEND_URL = os.getenv('FRONTEND_URL', '*')

CORS(app, resources={
    r"/api/*": {
        "origins": FRONTEND_URL if FRONTEND_URL != '*' else "*",
        "methods": ["GET", "POST", "PUT", "DELETE"],
        "allow_headers": ["Content-Type", "Authorization"]
    }
})
```

ä¿®æ”¹å¯åŠ¨é…ç½®ï¼š
```python
if __name__ == '__main__':
    port = int(os.getenv('PORT', 5000))
    is_production = os.getenv('FLASK_ENV') == 'production'

    app.run(
        host='0.0.0.0',
        port=port,
        debug=not is_production
    )
```

**5. æ¨é€æ›´æ–°**
```bash
git add .
git commit -m "Add deployment configuration"
git push
```

Railway ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶éƒ¨ç½²ã€‚

**6. è·å–åç«¯åœ°å€**
- åœ¨ Railway é¡¹ç›®é¡µé¢ï¼Œç‚¹å‡» "Settings" â†’ "Domains"
- ç‚¹å‡» "Generate Domain"
- å¤åˆ¶åœ°å€ï¼Œä¾‹å¦‚ï¼š`https://your-app.railway.app`

---

#### ç¬¬å››æ­¥ï¼šè¿æ¥å‰åç«¯

**æ›´æ–°å‰ç«¯é…ç½®**

ç¼–è¾‘ `frontend/js/config.js`ï¼š
```javascript
// ä½¿ç”¨ Railway çš„åç«¯åœ°å€
const API_BASE_URL = 'https://your-app.railway.app';
```

**æ¨é€æ›´æ–°**ï¼š
```bash
git add frontend/js/config.js
git commit -m "Update API URL for production"
git push
```

Vercel ä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²å‰ç«¯ã€‚

---

#### ç¯å¢ƒå˜é‡ç®¡ç†æœ€ä½³å®è·µ

**æ ¸å¿ƒåŸåˆ™ï¼šæ°¸è¿œä¸è¦æŠŠ .env æ–‡ä»¶æäº¤åˆ° GitHubï¼**

**ä¸‰ä¸ªç¯å¢ƒï¼Œä¸‰ç§æ–¹å¼**ï¼š

**1. æœ¬åœ°å¼€å‘ç¯å¢ƒ**
```bash
# backend/.env (ä¸æäº¤åˆ° Git)
DEEPSEEK_API_KEY=sk-å¼€å‘ç¯å¢ƒæµ‹è¯•å¯†é’¥
JWT_SECRET_KEY=dev-secret-key-12345678
FLASK_ENV=development
```

**2. GitHub ä»“åº“**
```bash
# backend/.env.example (å¯ä»¥æäº¤)
DEEPSEEK_API_KEY=your_deepseek_api_key_here
JWT_SECRET_KEY=your_secret_key_here
FLASK_ENV=development
```

**3. ç”Ÿäº§ç¯å¢ƒï¼ˆRailwayï¼‰**
```
åœ¨ Railway Variables ç•Œé¢é…ç½®ï¼š
â”œâ”€â”€ DEEPSEEK_API_KEY=sk-ç”Ÿäº§ç¯å¢ƒæ­£å¼å¯†é’¥
â”œâ”€â”€ JWT_SECRET_KEY=ç”Ÿäº§ç¯å¢ƒéšæœºå¯†é’¥ï¼ˆ64ä½ï¼‰
â””â”€â”€ FLASK_ENV=production
```

**ä¸ºä»€ä¹ˆè¿™æ ·åšï¼Ÿ**
- âœ… æœ¬åœ°å¯†é’¥ä¸ä¼šæ³„éœ²åˆ° Git
- âœ… ç”Ÿäº§ç¯å¢ƒä½¿ç”¨æ›´å®‰å…¨çš„å¯†é’¥
- âœ… ä¸åŒç¯å¢ƒäº’ä¸å½±å“
- âœ… æ˜“äºç®¡ç†å’Œæ›´æ–°

**å®‰å…¨å»ºè®®**ï¼š
1. ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒçš„å¯†é’¥
2. ç”Ÿäº§ç¯å¢ƒå¯†é’¥è¦æ›´é•¿ã€æ›´å¤æ‚
3. å®šæœŸè½®æ¢å¯†é’¥
4. ä¸è¦åœ¨å‰ç«¯æš´éœ² API Key

---

#### è‡ªåŠ¨éƒ¨ç½²æµç¨‹

**æ—¥å¸¸å¼€å‘æµç¨‹**ï¼š

```
1. æœ¬åœ°ä¿®æ”¹ä»£ç 
   â†“
2. æœ¬åœ°æµ‹è¯•ï¼ˆä½¿ç”¨æœ¬åœ° .envï¼‰
   â†“
3. git add . && git commit -m "æè¿°"
   â†“
4. git push
   â†“
5. è‡ªåŠ¨è§¦å‘éƒ¨ç½²
   â”œâ”€â†’ Vercel éƒ¨ç½²å‰ç«¯ï¼ˆçº¦1åˆ†é’Ÿï¼‰
   â””â”€â†’ Railway éƒ¨ç½²åç«¯ï¼ˆçº¦2-3åˆ†é’Ÿï¼‰
   â†“
6. è®¿é—®ç”Ÿäº§ç¯å¢ƒéªŒè¯
```

**æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€**ï¼š
- Vercel: https://vercel.com/dashboard
- Railway: https://railway.app/dashboard

---

#### éªŒè¯éƒ¨ç½²

**1. æµ‹è¯•åç«¯**
```bash
curl https://your-app.railway.app/
```

åº”è¯¥è¿”å›ï¼š
```json
{
  "message": "å­¦ç”Ÿè¯„è¯­ç”Ÿæˆå™¨ API",
  "status": "running"
}
```

**2. æµ‹è¯•å‰ç«¯**
- è®¿é—®ï¼š`https://your-app.vercel.app/login.html`
- æ³¨å†Œæ–°è´¦å·
- ç™»å½•å¹¶ç”Ÿæˆè¯„è¯­

---

#### éƒ¨ç½²æ£€æŸ¥æ¸…å•

éƒ¨ç½²å‰ç¡®è®¤ï¼š
- [ ] `.env` æ–‡ä»¶åœ¨ `.gitignore` ä¸­
- [ ] æ‰€æœ‰ API Key é…ç½®ä¸ºç¯å¢ƒå˜é‡
- [ ] JWT_SECRET_KEY ä½¿ç”¨éšæœºå­—ç¬¦ä¸²
- [ ] Debug æ¨¡å¼å·²å…³é—­ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- [ ] CORS é…ç½®æ­£ç¡®
- [ ] å‰ç«¯ API åœ°å€å·²æ›´æ–°
- [ ] ä»£ç å·²æ¨é€åˆ° GitHub

---

#### å¸¸è§é—®é¢˜

**æ¨é€åæ²¡æœ‰è‡ªåŠ¨éƒ¨ç½²**ï¼š
- æ£€æŸ¥ GitHub webhook é…ç½®
- æŸ¥çœ‹éƒ¨ç½²å¹³å°çš„æ—¥å¿—
- ç¡®è®¤æ¨é€åˆ°äº† main åˆ†æ”¯

**å‰ç«¯æ— æ³•è¿æ¥åç«¯**ï¼š
- æ£€æŸ¥ `config.js` ä¸­çš„ API åœ°å€
- ç¡®è®¤ Railway åç«¯æ­£å¸¸è¿è¡Œ
- æ£€æŸ¥ CORS é…ç½®

**ç¯å¢ƒå˜é‡ä¸ç”Ÿæ•ˆ**ï¼š
- åœ¨ Railway ä¸­é‡æ–°é…ç½®
- ç‚¹å‡» "Redeploy" é‡æ–°éƒ¨ç½²
- æ£€æŸ¥å˜é‡åå¤§å°å†™

**æ•°æ®åº“æ•°æ®ä¸¢å¤±**ï¼š
- Railway å…è´¹ç‰ˆé‡å¯ä¼šæ¸…ç©ºæ•°æ®
- å‡çº§åˆ°ä»˜è´¹ç‰ˆè·å¾—æŒä¹…åŒ–å­˜å‚¨
- æˆ–ä½¿ç”¨å¤–éƒ¨æ•°æ®åº“æœåŠ¡

è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ï¼š`VERCEL_RAILWAY_DEPLOYMENT.md`


---

## ğŸ“ å­¦ä¹ æ€»ç»“

### ä½ å­¦åˆ°äº†ä»€ä¹ˆ

#### 1. åç«¯å¼€å‘
- **Flask æ¡†æ¶**ï¼šåˆ›å»º Web æœåŠ¡å™¨å’Œ API
- **æ•°æ®åº“**ï¼šSQLite æ•°æ®åº“è®¾è®¡å’Œæ“ä½œ
- **ç”¨æˆ·è®¤è¯**ï¼šJWT Token éªŒè¯æœºåˆ¶
- **å¯†ç å®‰å…¨**ï¼šbcrypt åŠ å¯†
- **API è®¾è®¡**ï¼šRESTful API è§„èŒƒ

#### 2. å‰ç«¯å¼€å‘
- **HTML/CSS**ï¼šé¡µé¢ç»“æ„å’Œæ ·å¼
- **JavaScript**ï¼šäº¤äº’é€»è¾‘å’Œ API è°ƒç”¨
- **ç”¨æˆ·ä½“éªŒ**ï¼šè¡¨å•éªŒè¯ã€é”™è¯¯æç¤ºã€åŠ è½½çŠ¶æ€
- **æœ¬åœ°å­˜å‚¨**ï¼šlocalStorage ä½¿ç”¨

#### 3. AI é›†æˆ
- **API è°ƒç”¨**ï¼šHTTP è¯·æ±‚å’Œå“åº”å¤„ç†
- **æç¤ºè¯å·¥ç¨‹**ï¼šå¦‚ä½•è®¾è®¡æœ‰æ•ˆçš„ AI æç¤ºè¯
- **å¤šæ¨¡å‹æ”¯æŒ**ï¼šç»Ÿä¸€æ¥å£è®¾è®¡

#### 4. éƒ¨ç½²è¿ç»´
- **æœ¬åœ°éƒ¨ç½²**ï¼šè™šæ‹Ÿç¯å¢ƒã€ä¾èµ–ç®¡ç†
- **äº‘ç«¯éƒ¨ç½²**ï¼šRailwayã€Vercel ç­‰å¹³å°
- **å®‰å…¨é…ç½®**ï¼šHTTPSã€CORSã€ç¯å¢ƒå˜é‡

### æ ¸å¿ƒæ¦‚å¿µ

#### å‰åç«¯åˆ†ç¦»
```
å‰ç«¯ï¼ˆç”¨æˆ·ç•Œé¢ï¼‰ â†â†’ APIï¼ˆæ•°æ®æ¥å£ï¼‰ â†â†’ åç«¯ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰
```

#### RESTful API
- GETï¼šè·å–æ•°æ®
- POSTï¼šåˆ›å»ºæ•°æ®
- PUTï¼šæ›´æ–°æ•°æ®
- DELETEï¼šåˆ é™¤æ•°æ®

#### JWT è®¤è¯æµç¨‹
```
1. ç”¨æˆ·ç™»å½• â†’ éªŒè¯å¯†ç 
2. ç”Ÿæˆ Token â†’ è¿”å›ç»™å‰ç«¯
3. å‰ç«¯ä¿å­˜ Token
4. åç»­è¯·æ±‚å¸¦ä¸Š Token
5. åç«¯éªŒè¯ Token â†’ ç¡®è®¤èº«ä»½
```

---

## ğŸ“š æ‰©å±•å­¦ä¹ 

### è¿›é˜¶åŠŸèƒ½

**åç«¯**ï¼š
- ä½¿ç”¨ PostgreSQL æ›¿ä»£ SQLite
- æ·»åŠ ç”¨æˆ·æƒé™ç®¡ç†
- å®ç°è¯„è¯­æ¨¡æ¿ç³»ç»Ÿ
- æ·»åŠ æ‰¹é‡ç”ŸæˆåŠŸèƒ½
- é›†æˆæ›´å¤š AI æ¨¡å‹

**å‰ç«¯**ï¼š
- ä½¿ç”¨ React/Vue æ¡†æ¶
- æ·»åŠ å¯Œæ–‡æœ¬ç¼–è¾‘å™¨
- å®ç°è¯„è¯­å¯¼å‡ºï¼ˆWord/PDFï¼‰
- æ·»åŠ æ•°æ®å¯è§†åŒ–
- æ”¯æŒæš—é»‘æ¨¡å¼

**éƒ¨ç½²**ï¼š
- ä½¿ç”¨ Docker å®¹å™¨åŒ–
- é…ç½® CI/CD è‡ªåŠ¨éƒ¨ç½²
- æ·»åŠ ç›‘æ§å’Œæ—¥å¿—
- é…ç½®è´Ÿè½½å‡è¡¡
- ä½¿ç”¨ CDN åŠ é€Ÿ

### æ¨èèµ„æº

**Python/Flask**ï¼š
- Flask å®˜æ–¹æ–‡æ¡£ï¼šhttps://flask.palletsprojects.com/
- Python æ•™ç¨‹ï¼šhttps://docs.python.org/zh-cn/3/tutorial/

**å‰ç«¯**ï¼š
- MDN Web æ–‡æ¡£ï¼šhttps://developer.mozilla.org/zh-CN/
- JavaScript æ•™ç¨‹ï¼šhttps://javascript.info/

**éƒ¨ç½²**ï¼š
- Railway æ–‡æ¡£ï¼šhttps://docs.railway.app/
- Vercel æ–‡æ¡£ï¼šhttps://vercel.com/docs

---

## ğŸ‰ æ­å–œå®Œæˆï¼

ä½ å·²ç»å®Œæˆäº†ä¸€ä¸ªå®Œæ•´çš„å…¨æ ˆ Web åº”ç”¨å¼€å‘ï¼

**ä½ ç°åœ¨å¯ä»¥**ï¼š
- âœ… ç‹¬ç«‹å¼€å‘å‰åç«¯åˆ†ç¦»çš„ Web åº”ç”¨
- âœ… é›†æˆç¬¬ä¸‰æ–¹ AI API
- âœ… éƒ¨ç½²åº”ç”¨åˆ°äº’è”ç½‘
- âœ… ç†è§£ç°ä»£ Web å¼€å‘æµç¨‹

**ä¸‹ä¸€æ­¥**ï¼š
- ç»§ç»­ä¼˜åŒ–å’Œå®Œå–„åŠŸèƒ½
- å­¦ä¹ æ›´å¤šå‰ç«¯æ¡†æ¶ï¼ˆReact/Vueï¼‰
- æ·±å…¥å­¦ä¹ æ•°æ®åº“è®¾è®¡
- æ¢ç´¢å¾®æœåŠ¡æ¶æ„

---

## ğŸ“ ä¸‹ä¸€æ­¥

æ¥ä¸‹æ¥ä½ å¯ä»¥ï¼š
1. **ä¼˜åŒ–ç°æœ‰åŠŸèƒ½** - æ”¹è¿›ç”¨æˆ·ä½“éªŒå’Œæ€§èƒ½
2. **æ·»åŠ æ–°åŠŸèƒ½** - æ‰¹é‡ç”Ÿæˆã€æ¨¡æ¿ç®¡ç†ç­‰
3. **å­¦ä¹ æ–°æŠ€æœ¯** - Reactã€Dockerã€å¾®æœåŠ¡ç­‰
4. **å¼€å‘æ–°é¡¹ç›®** - åº”ç”¨æ‰€å­¦çŸ¥è¯†åˆ°æ–°çš„é¡¹ç›®ä¸­

**è®°ä½**ï¼šç¼–ç¨‹æ˜¯ä¸€ä¸ªæŒç»­å­¦ä¹ çš„è¿‡ç¨‹ï¼Œä¿æŒå¥½å¥‡å¿ƒï¼Œä¸æ–­å®è·µï¼
3. **å‰åç«¯è”è°ƒ**
4. **éƒ¨ç½²ä¸Šçº¿**

å‡†å¤‡å¥½ç»§ç»­äº†å—ï¼Ÿ
